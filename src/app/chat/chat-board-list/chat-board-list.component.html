<div class="chatSessionBoard">

    <app-chat-session *ngFor="let session of chatSession" [session]=session (click)="chatWindows(session)"></app-chat-session>

</div>

<div class="chatWindow">
    <ng-container class="" *ngIf="chat$ | async as chat">
        <div class="chat">

            <div class="msg" *ngFor="let msg of chat.msg; trackBy: trackByCreated">

                <div class="user">
                    <img [src]="msg.user?.photoURL || 'assets/duck.svg'" width="40px">
                    <div><span>{{ msg.user?.displayName }}</span></div>
                </div>

                <p>{{ msg.content }}</p>

            </div>

        </div>

        <div class="form">

            <textarea matInput [(ngModel)]="newMsg" #message maxlength="256" placeholder="Message" (keydown.enter)="submit(chat.id)" style="resize: none; "></textarea>

            <button mat-flat-button color="primary" (click)="submit(chat.id)" style="margin-left: 40px; width: 80px;">Send</button> <br>
            <mat-hint align="end"> {{message.value.length}} / 256</mat-hint>

        </div>

    </ng-container>

</div>